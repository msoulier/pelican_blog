<!DOCTYPE html>
<html lang="en">
<head>
        <title>Joysticks on Mac OS X in Flightgear</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="./theme/css/main.css" type="text/css" />
        <link href="http://feeds.feedburner.com/ButIDigress" type="application/rss+xml" rel="alternate" title="But I Digress RSS Feed" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="./css/ie.css"/>
                <script src="./js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="./css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">
<a href="http://github.com/msoulier">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />
</a>
        <header id="banner" class="body">
                <h1><a href=".">But I Digress </a></h1>
                <h2>Random neuron firings, digitized heedless of the
                repurcussions.</h2>
                <nav><ul>
                    <li><a href="./pages/mike-souliers-curriculum-vitae.html">Mike Soulier's Curriculum Vitae</a></li>
                    <li ><a href="./category/development.html">Development</a></li>
                    <li ><a href="./category/driving.html">Driving</a></li>
                    <li ><a href="./category/personal.html">Personal</a></li>
                    <li ><a href="./category/quotes.html">Quotes</a></li>
                    <li class="active"><a href="./category/technology.html">Technology</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="joystick-mac-os-x-flightgear.html" rel="bookmark"
           title="Permalink to Joysticks on Mac OS X in Flightgear">Joysticks on Mac OS X in Flightgear</a></h1>
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="msoulier">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2013-03-11T22:00:00-04:00">
                Mon 11 March 2013
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="./author/michael-p-soulier.html">Michael P. Soulier</a>
        </address>
<p>In <a href="./category/technology.html">Technology</a>. </p>
<p>tags: <a href="./tag/os-x.html">OS X</a></p></footer><!-- /.post-info -->      <p>I like flight simulators. I've played all of the good ones, <a class="reference external" href="http://www.flightgear.org/">Flightgear</a> is
an open-source flight simulator that isn't bad, and is steadily getting better
with every release. While it is available to run on Mac, there's no way to
calibrate the Joystick due to a lack of caring on Apple's part.</p>
<p>But, Flightgear is hackable. The joystick file is just a set of XML bindings,
those bindings can run code, so using coefficients to the input and
controlling the output, in theory I can calibrate the settings myself. So, I
did:</p>
<pre class="literal-block">
&lt;?xml version=&quot;1.0&quot;?&gt;

&lt;PropertyList&gt;
    &lt;axis n=&quot;0&quot;&gt;
        &lt;desc&gt;Aileron&lt;/desc&gt;
        &lt;binding&gt;
            &lt;command&gt;nasal&lt;/command&gt;
            &lt;script&gt;
                var value = cmdarg().getNode(&quot;setting&quot;).getValue();
                if (abs(value) &amp;lt; 0.05) {
                    value = 0;
                }
                else {
                    value -= 0.15;
                    value *= 1.5;
                }
                setprop(&quot;/controls/flight/aileron&quot;, value);
            &lt;/script&gt;
        &lt;/binding&gt;
    &lt;/axis&gt;
    &lt;axis n=&quot;1&quot;&gt;
        &lt;desc&gt;Elevator&lt;/desc&gt;
        &lt;binding&gt;
            &lt;command&gt;nasal&lt;/command&gt;
            &lt;script&gt;
                var value = cmdarg().getNode(&quot;setting&quot;).getValue();
                if (abs(value) &amp;lt; 0.05) {
                    value = 0;
                }
                else {
                    value -= 0.1;
                    value *= -1.5;
                }
                setprop(&quot;/controls/flight/elevator&quot;, value);
            &lt;/script&gt;
        &lt;/binding&gt;
    &lt;/axis&gt;
    &lt;axis n=&quot;2&quot;&gt;
        &lt;desc&gt;Rudder&lt;/desc&gt;
        &lt;binding&gt;
            &lt;command&gt;nasal&lt;/command&gt;
            &lt;script&gt;
                var value = cmdarg().getNode(&quot;setting&quot;).getValue();
                if (abs(value) &amp;lt; 0.05) {
                    value = 0;
                }
                else {
                    value *= 1.5;
                }
                setprop(&quot;/controls/flight/rudder&quot;, value);
            &lt;/script&gt;
        &lt;/binding&gt;
    &lt;/axis&gt;
    &lt;axis n=&quot;3&quot;&gt;
        &lt;desc&gt;Throttle&lt;/desc&gt;
        &lt;binding&gt;
            &lt;command&gt;nasal&lt;/command&gt;
            &lt;script&gt;
                var value = cmdarg().getNode(&quot;setting&quot;).getValue();
                value -= 0.5;
                value *= -1.5;
                setprop(&quot;/controls/engines/engine/throttle&quot;, value);
            &lt;/script&gt;
        &lt;/binding&gt;
    &lt;/axis&gt;

&lt;axis n=&quot;4&quot;&gt;
    &lt;desc&gt;View Direction&lt;/desc&gt;
    &lt;direction&gt;left&lt;/direction&gt;
    &lt;low&gt;
    &lt;repeatable&gt;true&lt;/repeatable&gt;
    &lt;binding&gt;
        &lt;command&gt;nasal&lt;/command&gt;
        &lt;script&gt;view.panViewDir(1)&lt;/script&gt;
    &lt;/binding&gt;
    &lt;/low&gt;
    &lt;high&gt;
    &lt;repeatable&gt;true&lt;/repeatable&gt;
    &lt;binding&gt;
        &lt;command&gt;nasal&lt;/command&gt;
        &lt;script&gt;view.panViewDir(-1)&lt;/script&gt;
    &lt;/binding&gt;
    &lt;/high&gt;
    &lt;dead-band type=&quot;double&quot;&gt;0&lt;/dead-band&gt;
    &lt;binding&gt;
    &lt;factor type=&quot;double&quot;&gt;-1&lt;/factor&gt;
    &lt;/binding&gt;
&lt;/axis&gt;
&lt;axis n=&quot;5&quot;&gt;
    &lt;desc&gt;View Elevation&lt;/desc&gt;
    &lt;direction&gt;upward&lt;/direction&gt;
    &lt;low&gt;
    &lt;repeatable&gt;true&lt;/repeatable&gt;
    &lt;binding&gt;
        &lt;command&gt;nasal&lt;/command&gt;
        &lt;script&gt;view.panViewPitch(1)&lt;/script&gt;
    &lt;/binding&gt;
    &lt;/low&gt;
    &lt;high&gt;
    &lt;repeatable&gt;true&lt;/repeatable&gt;
    &lt;binding&gt;
        &lt;command&gt;nasal&lt;/command&gt;
        &lt;script&gt;view.panViewPitch(-1)&lt;/script&gt;
    &lt;/binding&gt;
    &lt;/high&gt;
    &lt;dead-band type=&quot;double&quot;&gt;0&lt;/dead-band&gt;
    &lt;binding&gt;
    &lt;factor type=&quot;double&quot;&gt;-1&lt;/factor&gt;
    &lt;/binding&gt;
&lt;/axis&gt;
&lt;button&gt;
    &lt;desc&gt;Brakes&lt;/desc&gt;
    &lt;binding&gt;
    &lt;command&gt;nasal&lt;/command&gt;
    &lt;script&gt;controls.applyBrakes(1)&lt;/script&gt;
    &lt;/binding&gt;
    &lt;mod-up&gt;
    &lt;binding&gt;
        &lt;command&gt;nasal&lt;/command&gt;
        &lt;script&gt;controls.applyBrakes(0)&lt;/script&gt;
    &lt;/binding&gt;
    &lt;/mod-up&gt;
&lt;/button&gt;
&lt;button n=&quot;3&quot;&gt;
    &lt;desc&gt;Flaps Up&lt;/desc&gt;
    &lt;repeatable&gt;false&lt;/repeatable&gt;
    &lt;binding&gt;
    &lt;command&gt;nasal&lt;/command&gt;
    &lt;script&gt;controls.flapsDown(-1)&lt;/script&gt;
    &lt;/binding&gt;
    &lt;mod-up&gt;
    &lt;binding&gt;
        &lt;command&gt;nasal&lt;/command&gt;
        &lt;script&gt;controls.flapsDown(0)&lt;/script&gt;
    &lt;/binding&gt;
    &lt;/mod-up&gt;
&lt;/button&gt;
&lt;button n=&quot;4&quot;&gt;
    &lt;desc&gt;Flaps Down&lt;/desc&gt;
    &lt;repeatable&gt;false&lt;/repeatable&gt;
    &lt;binding&gt;
    &lt;command&gt;nasal&lt;/command&gt;
    &lt;script&gt;controls.flapsDown(1)&lt;/script&gt;
    &lt;/binding&gt;
    &lt;mod-up&gt;
    &lt;binding&gt;
        &lt;command&gt;nasal&lt;/command&gt;
        &lt;script&gt;controls.flapsDown(0)&lt;/script&gt;
    &lt;/binding&gt;
    &lt;/mod-up&gt;
&lt;/button&gt;
&lt;button n=&quot;1&quot;&gt;
    &lt;desc&gt;Elevator Trim Forward&lt;/desc&gt;
    &lt;repeatable&gt;true&lt;/repeatable&gt;
    &lt;binding&gt;
    &lt;command&gt;nasal&lt;/command&gt;
    &lt;script&gt;controls.elevatorTrim(0.75)&lt;/script&gt;
    &lt;/binding&gt;
&lt;/button&gt;
&lt;button n=&quot;2&quot;&gt;
    &lt;desc&gt;Elevator Trim Backward&lt;/desc&gt;
    &lt;repeatable&gt;true&lt;/repeatable&gt;
    &lt;binding&gt;
    &lt;command&gt;nasal&lt;/command&gt;
    &lt;script&gt;controls.elevatorTrim(-0.75)&lt;/script&gt;
    &lt;/binding&gt;
&lt;/button&gt;
&lt;name type=&quot;string&quot;&gt;WingMan Extreme Digital 3D&lt;/name&gt;
&lt;/PropertyList&gt;
</pre>
<p>Right now, the calibration is good, but the controls are really jerky and
overly sensitive. I'll have to see if I can smooth them out. But, they work.</p>

    </div><!-- /.entry-content -->
    <div class="comments">
      <h2>Comments !</h2>
      <div id="disqus_thread"></div>
      <script type="text/javascript">
        var disqus_identifier = "joystick-mac-os-x-flightgear.html";
        (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://butidigressca.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
    </div>

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://docs.notmyidea.org/alexis/pelican/">Pelican</a></li>
                            <li><a href="http://python.org">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org">Jinja2</a></li>
                            <li><a href="http://fit613.wordpress.com">Fit613</a></li>
                            <li><a href="http://excess.org">Ian Ward</a></li>
                            <li><a href="http://www.mahdiyusuf.com/">Mahdi Yusuf</a></li>
                            <li><a href="http://mikegrouchy.com/">Mike Grouchy</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://feeds.feedburner.com/ButIDigress" type="application/rss+xml" rel="alternate">rss feed</a></li>

                            <li><a href="http://twitter.com/msoulier">Twitter</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                <p>Email me at msoulier at digitaltorque dot ca</p>
                </address><!-- /#about -->

        </footer><!-- /#contentinfo -->

<script type="text/javascript">
    var disqus_shortname = 'butidigressca';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>