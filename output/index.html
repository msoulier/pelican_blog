<!DOCTYPE html>
<html lang="en">
<head>
        <title>But I Digress</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="./theme/css/main.css" type="text/css" />
        
        
        <link href="http://feeds.feedburner.com/ButIDigress" type="application/rss+xml" rel="alternate" title="But I Digress RSS Feed" />
        

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="./css/ie.css"/>
                <script src="./js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="./css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">

<a href="http://github.com/msoulier">

<img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />

</a>

        <header id="banner" class="body">
                <h1><a href=".">But I Digress </a></h1>
                <h2>Random neuron firings, digitized heedless of the
                repurcussions.</h2>
                <nav><ul>
                
                
                
                    <li><a href="./pages/resume.html">Resum√©</a></li>
                
                
                
                    <li ><a href="./category/development.html">Development</a></li>
                
                    <li ><a href="./category/personal.html">Personal</a></li>
                
                    <li ><a href="./category/technology.html">Technology</a></li>
                
                </ul></nav>
        </header><!-- /#banner -->
                

            

        
        
            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="./understanding-oauth.html">Understanding OAuth</a></h1> 
                    <footer class="post-info">
        <abbr class="published" title="2012-12-20T10:30:00">
                Thu 20 December 2012
        </abbr>

        
        <address class="vcard author">
                By <a class="url fn" href="./author/michael-p-soulier.html">Michael P. Soulier</a>
        </address>
        
<p>In <a href="./category/technology.html">Technology</a>. </p>
<p>tags: <a href="./tag/oauth.html">OAuth</a><a href="./tag/web-services.html">Web Services</a></p>


</footer><!-- /.post-info --><p>We meet again. Thanks for stopping by. This post has a high geek factor, so if
you're not one, feel free to move along, nothing to see here.</p>
<p>Still here? K, your funeral. At work, I'm trying to add a <a class="reference external" href="http://en.wikipedia.org/wiki/Representational_state_transfer">ReST</a> Web Service to
a product that could desperately use it. I want to do this to permit better
remote monitoring of said product and remote control for one of our management
services and future UIs that I may implement (think apps on Android and iOS).</p>
<p>This is no small task, and it cannot be taken lightly. It will likely be used
by many, so it must be easy to debug and integrate with, hence ReST. I'll rant
about the evils of <a class="reference external" href="http://en.wikipedia.org/wiki/SOAP">SOAP</a> later. It must be secure, which is easy, <a class="reference external" href="http://www.apache.org/">Apache</a> is
already on the system, with <a class="reference external" href="http://en.wikipedia.org/wiki/Secure_Sockets_Layer">SSL</a> support. It must be authenticated. This is
tougher.</p>
<p>Since I expect SSL, I could require client certificates, but they're a pain to
provision. You don't authenticate to amazon.com with client certificates for
this reason. Setting them up is about as much fun as visiting the passport
office, and it hurts the wallet too. Why should anyone pay for the privilege
of shopping in a store? Oh...I'll rant about <a class="reference external" href="http://www.costco.com/">CostCo</a> later.</p>
<p>A popular method of authentication for web services is now <a class="reference external" href="http://oauth.net/">OAuth</a>. OAuth was
designed to fix a particular problem. Example: I like <a class="reference external" href="http://twitter.com/">Twitter</a>. I hate
Twitter's web interface. I prefer lightweight and simple. Plus, it's terrible
to use from a smartphone. Fortunately, Twitter has a ReST web service that
uses OAuth for authentication, so a vendor can release a Twitter app for my
phone that I can connect to my account. &quot;But,&quot; you ask, &quot;surely you don't give
this app your Twitter password!&quot; No. I don't. It's a closed-source app and for
all I know, they'd send it to themselves for nefarious purposes. I want the
app to access my Twitter account, but I do <em>not</em> want them to have my
password. How do we do this? Enter OAuth.</p>
<p>How does it work? The idea is simple. I'm going to go to my Twitter account,
and tell Twitter to issue a random &quot;token&quot; in my name. If you think you don't
know what a token is, think again. I suspect you carry keys, id badges,
smartcards, that kind of thing. There isn't any practical difference, beyond
keys being functional mechanically. This token I will then <em>securely</em> provide
to the Twitter client on my phone, and when Twitter sees it, it will know that
the client is mine, and grant access. The token will be transmitted over SSL
to avoid spying and replay attacks, the hard part is securely getting the
token into the client, and keeping it convenient. We do <em>not</em> want a repeat of
SSL client certificates. Provisioning needs to be simple.</p>
<p>But, automating such things is problematic. Even if you implement a request
queue for token requests, you don't want it to fill up with spammed garbage
requests, and it will if we don't prevent it. Spammers should be pulled into
the street and shot, but I digress. A way to prevent this is to at least have
an existing relationship between the app vendor and the service. So, if I want
to distribute an app, I need to go into Twitter and tell them that I want to
be a &quot;consumer&quot; of their service. They'll ask me all kinds of details about
who I am, and then issue me a consumer ID, and a shared secret. The shared
secret is a random string that only they and I know. Now, when my app <em>asks</em>
them for a token, it identifies itself with the consumer ID, and they validate
it, which includes checking a signature built from the shared secret, so they
know it's a valid request. BTW, this consumer ID can be used for billing
later, as not all web services are free. Here comes <a class="reference external" href="http://en.wikipedia.org/wiki/Software_as_a_service">SAAS</a>.</p>
<p>Furthermore, it's not Twitter staff that need to approve this request, it's
the owner of the resource in question, the Twitter account holder. This is
good, as the account holder is the one who really cares here, and the Twitter
staff would otherwise be overloaded with handling requests like these. Now,
HTTP is a stateless protocol, so OAuth needs to add some state in the approval
process. So, initially when we request a token, OAuth responds with a
temporary one, so that the resource owner can be redirected to Twitter itself
to approve access to their account. Assuming that you approve, a new token
called a <em>verifier</em> will be issued. This verifier can be provided in the
response, or simply displayed in the web page so that you can copy it into the
app in an &quot;out-of-band&quot; manner (ie. cut and paste).</p>
<p>This verifier is then used to request the final set of tokens from the
service. It proves to the OAuth subsystem attached to the service that:</p>
<blockquote>
<ol class="arabic simple">
<li>The client was written by an approved vendor. <em>consumer id</em></li>
<li>The owner of the account wishes to grant access to this client. <em>token and verifier</em></li>
<li>The request was not forged by some random ass-hat on the net.  <em>signature including shared secrets</em></li>
</ol>
</blockquote>
<p>Once done, the app has a set of tokens that it can continually use to make
HTTP requests to Twitter's web service. The tokens issued can also be limited
in permissions, perhaps providing read access but not write access, and
perhaps to only specific areas of the <a class="reference external" href="http://en.wikipedia.org/wiki/Application_programming_interface">API</a>. The tokens can also be revoked, if
you wish to pull said access in the future. This is a &quot;good thing&quot;. I use this
to fetch tweets, to make them, to manage follower lists, etc. All securely and
authenticated over HTTPS. And I do it from the command-line, with my own
client written in <a class="reference external" href="http://www.python.org/">Python</a>, which I dubbed <a class="reference external" href="https://github.com/msoulier/twit">Twit</a>. I pull my data from Google in
the same manner, for calendar events and contacts. Thus far it has worked
well.</p>
<p>Now, for what I want to do, I'm implementing OAuth 1.0, even though the 2.0
&quot;standard&quot; is kinda coming. I phrase it this way because it's been coming for
a while now, and as communities often do, it's already forked, dropped some
security in the form of strong signatures, in the name of developer
convenience. So, I'm sticking with 1.0. It's harder to implement, but it's
<em>done</em>, and it's more secure. I've only just gotten PLAINTEXT and HMAC-SHA1
signatures working, I'll post on that soon. I'm doing the server in <a class="reference external" href="http://www.perl.org/">Perl</a> and
<a class="reference external" href="http://mojolicio.us/">Mojolicious</a> for legacy reasons, and implementing it myself because I've had
issues with the <tt class="docutils literal"><span class="pre">Net::OAuth</span></tt> module for Perl. Maybe I'm using it wrong, but
thus far I've gotten no response from the author. Plus, I learn much, much
more this way.</p>
<p>This post is running a tad long, so I'll end it here, with more to come on my
trip into OAuth. Specifically implementing support for the signatures. Funny
thing is that the signing part is simple, but constructing the base string is
freakin' hard. You'll get what I mean if you read the <a class="reference external" href="http://tools.ietf.org/html/rfc5849">RFC</a>, or just stay
tuned.</p>
<p>See? Geeky. I warned you.</p>
<p>There are <a href="./understanding-oauth.html#disqus_thread">comments</a>.</p>
                </article>
                
            </aside><!-- /#featured -->
            
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">
            
        
        
        
            

        
         
            
            <li><article class="hentry">    
                <header>
                    <h1><a href="./getting-started-with-autotools.html" rel="bookmark"
                           title="Permalink to Getting started with autotools">Getting started with autotools</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2012-12-16T08:30:00">
                Sun 16 December 2012
        </abbr>

        
        <address class="vcard author">
                By <a class="url fn" href="./author/michael-p-soulier.html">Michael P. Soulier</a>
        </address>
        
<p>In <a href="./category/technology.html">Technology</a>. </p>
<p>tags: <a href="./tag/cc.html">C/C++</a><a href="./tag/foss.html">FOSS</a><a href="./tag/autotools.html">Autotools</a></p>


</footer><!-- /.post-info -->
                <p>So, I'm still reading O'Rielly's <a class="reference external" href="http://www.but-i-digress.ca/21st-century-c.html">21st Century C</a>. I know, too many books on
the go and I read slowly, and not often enough. I'm going through the section
on <a class="reference external" href="http://www.gnu.org/software/autoconf/">GNU autotools</a>, which I've never been a heavy user of, albiet I'm a heavy ...</p>
                <a class="readmore" href="./getting-started-with-autotools.html">read more</a>
                <p>There are <a href="./getting-started-with-autotools.html#disqus_thread">comments</a>.</p>
                </div><!-- /.entry-content -->
            </article></li>
        
        
            

        
         
            
            <li><article class="hentry">    
                <header>
                    <h1><a href="./brewing-a-better-unix.html" rel="bookmark"
                           title="Permalink to Brewing a better UNIX">Brewing a better UNIX</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2012-12-09T08:00:00">
                Sun 09 December 2012
        </abbr>

        
        <address class="vcard author">
                By <a class="url fn" href="./author/michael-p-soulier.html">Michael P. Soulier</a>
        </address>
        
<p>In <a href="./category/technology.html">Technology</a>. </p>
<p>tags: <a href="./tag/os-x.html">OS X</a><a href="./tag/unix.html">UNIX</a><a href="./tag/foss.html">FOSS</a></p>


</footer><!-- /.post-info -->
                <p>Being a <a class="reference external" href="http://www.linux.org/">Linux</a> user, I'm used to a fairly standard set of tools on my
command-line. On <a class="reference external" href="http://www.apple.com/osx/">OS X</a>, it's essentially BSD UNIX underneath, which I have had
some experience with thanks to <a class="reference external" href="http://www.freebsd.org/">FreeBSD</a>. The environment is very similar, but
not identical, and on <a class="reference external" href="http://www.freebsd.org/">FreeBSD</a>, you quickly find ...</p>
                <a class="readmore" href="./brewing-a-better-unix.html">read more</a>
                <p>There are <a href="./brewing-a-better-unix.html#disqus_thread">comments</a>.</p>
                </div><!-- /.entry-content -->
            </article></li>
        
        
            

        
         
            
            <li><article class="hentry">    
                <header>
                    <h1><a href="./apple-support-experience.html" rel="bookmark"
                           title="Permalink to The Apple Support Experience">The Apple Support Experience</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2012-12-06T12:20:00">
                Thu 06 December 2012
        </abbr>

        
        <address class="vcard author">
                By <a class="url fn" href="./author/michael-p-soulier.html">Michael P. Soulier</a>
        </address>
        
<p>In <a href="./category/technology.html">Technology</a>. </p>
<p>tags: <a href="./tag/apple.html">Apple</a><a href="./tag/customer-service.html">Customer Service</a></p>


</footer><!-- /.post-info -->
                <p>So, having jumped into Apple land with a Mac Mini recently, and having some
problems, I of course took advantage of my included 90 days technical support.
Being part of the Apple ecosystem includes being subject to how they support
their customers, so I think it's important to write ...</p>
                <a class="readmore" href="./apple-support-experience.html">read more</a>
                <p>There are <a href="./apple-support-experience.html#disqus_thread">comments</a>.</p>
                </div><!-- /.entry-content -->
            </article></li>
        
        
            

        
         
            
            <li><article class="hentry">    
                <header>
                    <h1><a href="./parenting-can-make-you-feel-helpless.html" rel="bookmark"
                           title="Permalink to Parenting can really make you feel helpless">Parenting can really make you feel helpless</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2012-11-28T08:00:00">
                Wed 28 November 2012
        </abbr>

        
        <address class="vcard author">
                By <a class="url fn" href="./author/michael-p-soulier.html">Michael P. Soulier</a>
        </address>
        
<p>In <a href="./category/personal.html">Personal</a>. </p>
<p>tags: <a href="./tag/parenting.html">Parenting</a></p>


</footer><!-- /.post-info -->
                <p>I've only been kicking around for a bit over 40 years now, but I've never
found anything in the world to make me feel more helpless than my own child
telling me that they feel bad, and knowing that I can't fix it.</p>
<p>My daughter was sick ...</p>
                <a class="readmore" href="./parenting-can-make-you-feel-helpless.html">read more</a>
                <p>There are <a href="./parenting-can-make-you-feel-helpless.html#disqus_thread">comments</a>.</p>
                </div><!-- /.entry-content -->
            </article></li>
        
        
            

        
         
            
            <li><article class="hentry">    
                <header>
                    <h1><a href="./customizing-awesome.html" rel="bookmark"
                           title="Permalink to Customizing Awesome">Customizing Awesome</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2012-11-28T07:00:00">
                Wed 28 November 2012
        </abbr>

        
        <address class="vcard author">
                By <a class="url fn" href="./author/michael-p-soulier.html">Michael P. Soulier</a>
        </address>
        
<p>In <a href="./category/technology.html">Technology</a>. </p>
<p>tags: <a href="./tag/linux.html">Linux</a><a href="./tag/foss.html">FOSS</a><a href="./tag/awesome-wm.html">Awesome WM</a></p>


</footer><!-- /.post-info -->
                <p>As I mentioned previously, I'm currently running <a class="reference external" href="http://awesome.naquadah.org/">Awesome</a> on my netbook. While
I added suspend on lid close, I still need to customize the crap out of it. I
had nothing showing me my current battery status, so I searched around to find
the appropriate <a class="reference external" href="http://www.lua.org/">lua</a> code, a language ...</p>
                <a class="readmore" href="./customizing-awesome.html">read more</a>
                <p>There are <a href="./customizing-awesome.html#disqus_thread">comments</a>.</p>
                </div><!-- /.entry-content -->
            </article></li>
        
        
            

        
         
            
            <li><article class="hentry">    
                <header>
                    <h1><a href="./tweeting-on-osx.html" rel="bookmark"
                           title="Permalink to Tweeting on OS X">Tweeting on OS X</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2012-11-25T09:00:00">
                Sun 25 November 2012
        </abbr>

        
        <address class="vcard author">
                By <a class="url fn" href="./author/michael-p-soulier.html">Michael P. Soulier</a>
        </address>
        
<p>In <a href="./category/technology.html">Technology</a>. </p>
<p>tags: <a href="./tag/os-x.html">OS X</a><a href="./tag/python.html">Python</a><a href="./tag/foss.html">FOSS</a></p>


</footer><!-- /.post-info -->
                <p>For some time my desktop has been an older, underpowered Linux box, so using
services like <a class="reference external" href="http://www.twitter.com">Twitter</a> via the website has been painful, as loaded with heavy
javascript that would consume my CPU's limited resources.</p>
<p>So, like any <a class="reference external" href="http://www.python.org">Python</a> programmer would do, I wrote my own client. Well, lets ...</p>
                <a class="readmore" href="./tweeting-on-osx.html">read more</a>
                <p>There are <a href="./tweeting-on-osx.html#disqus_thread">comments</a>.</p>
                </div><!-- /.entry-content -->
            </article></li>
        
        
            

        
         
            
            <li><article class="hentry">    
                <header>
                    <h1><a href="./suspend-on-lid-close-debian-squeeze.html" rel="bookmark"
                           title="Permalink to Suspend on lid close in Debian Squeeze">Suspend on lid close in Debian Squeeze</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2012-11-20T22:10:00">
                Tue 20 November 2012
        </abbr>

        
        <address class="vcard author">
                By <a class="url fn" href="./author/michael-p-soulier.html">Michael P. Soulier</a>
        </address>
        
<p>In <a href="./category/technology.html">Technology</a>. </p>
<p>tags: <a href="./tag/linux.html">Linux</a><a href="./tag/foss.html">FOSS</a><a href="./tag/python.html">Python</a></p>


</footer><!-- /.post-info -->
                <p>I recently decided that <a class="reference external" href="http://www.gnome.org">Gnome</a> is not the best desktop for my little <a class="reference external" href="http://www.asus.com/Eee/">EeePC</a>
netbook with a little 10.5&quot; screen. So I'm playing around with a window
manager that mainly just maximizes everything. I've tried <a class="reference external" href="http://www.nongnu.org/ratpoison/">Ratpoison</a>, I've
tried <a class="reference external" href="https://code.google.com/p/wmii/">wmii</a>, and now I'm trying <a class="reference external" href="http://awesome.naquadah.org/">Awesome</a>.</p>
<p>I ...</p>
                <a class="readmore" href="./suspend-on-lid-close-debian-squeeze.html">read more</a>
                <p>There are <a href="./suspend-on-lid-close-debian-squeeze.html#disqus_thread">comments</a>.</p>
                </div><!-- /.entry-content -->
            </article></li>
        
        
            

        
         
            
            <li><article class="hentry">    
                <header>
                    <h1><a href="./apple-and-joysticks.html" rel="bookmark"
                           title="Permalink to Joysticks? We don't need no stinking joysticks...">Joysticks? We don't need no stinking joysticks...</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2012-11-19T13:00:00">
                Mon 19 November 2012
        </abbr>

        
        <address class="vcard author">
                By <a class="url fn" href="./author/michael-p-soulier.html">Michael P. Soulier</a>
        </address>
        
<p>In <a href="./category/technology.html">Technology</a>. </p>
<p>tags: <a href="./tag/os-x.html">OS X</a></p>


</footer><!-- /.post-info -->
                <p>So, after unpackaging my brand-spanking new Mac Mini, I grabbed a copy of the
<a class="reference external" href="http://www.x-plane.com">X-Plane</a> demo, dropped in an old usb joystick and fired it up. Oddly, X-Plane
itself asked me if I wanted to calibrate the joystick, which struck me as odd,
that hasn't happened in years, not ...</p>
                <a class="readmore" href="./apple-and-joysticks.html">read more</a>
                <p>There are <a href="./apple-and-joysticks.html#disqus_thread">comments</a>.</p>
                </div><!-- /.entry-content -->
            </article></li>
        
        
            

        
         
            
            <li><article class="hentry">    
                <header>
                    <h1><a href="./umm-done-unzipping-yet.html" rel="bookmark"
                           title="Permalink to Umm, done unzipping yet?">Umm, done unzipping yet?</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2012-11-17T14:00:00">
                Sat 17 November 2012
        </abbr>

        
        <address class="vcard author">
                By <a class="url fn" href="./author/michael-p-soulier.html">Michael P. Soulier</a>
        </address>
        
<p>In <a href="./category/technology.html">Technology</a>. </p>
<p>tags: <a href="./tag/os-x.html">OS X</a></p>


</footer><!-- /.post-info -->
                <p>So, the first thing I did after after wrapping my head around the cocoa
interface was to start installing software like a madman. I wanted Firefox,
VLC, Kobo, Gimp, Vim, etc, etc, etc. So, I had to learn how to install apps on
OS X.</p>
<p>Apps in OS X seem ...</p>
                <a class="readmore" href="./umm-done-unzipping-yet.html">read more</a>
                <p>There are <a href="./umm-done-unzipping-yet.html#disqus_thread">comments</a>.</p>
                </div><!-- /.entry-content -->
            </article></li>
        
        
            </ol><!-- /#posts-list -->
            
                
<p class="paginator">
    
    Page 1 / 2
    
        <a href="./index2.html">&raquo;</a>
    
</p>

            
            </section><!-- /#content -->
        
    


        <section id="extras" class="body">
        
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                        
                            <li><a href="http://docs.notmyidea.org/alexis/pelican/">Pelican</a></li>
                        
                            <li><a href="http://python.org">Python.org</a></li>
                        
                            <li><a href="http://jinja.pocoo.org">Jinja2</a></li>
                        
                            <li><a href="http://fit613.wordpress.com">Fit613</a></li>
                        
                            <li><a href="http://excess.org">Ian Ward</a></li>
                        
                            <li><a href="http://www.mahdiyusuf.com/">Mahdi Yusuf</a></li>
                        
                            <li><a href="http://mikegrouchy.com/">Mike Grouchy</a></li>
                        
                        </ul>
                </div><!-- /.blogroll -->
        
        
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            
                            
                                
                            <li><a href="http://feeds.feedburner.com/ButIDigress" type="application/rss+xml" rel="alternate">rss feed</a></li>
                                
                            

                        
                            <li><a href="http://twitter.com/msoulier">Twitter</a></li>
                        
                        </ul>
                </div><!-- /.social -->
        
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                <p>Email me at msoulier at digitaltorque dot ca</p>
                </address><!-- /#about -->

        </footer><!-- /#contentinfo -->




<script type="text/javascript">
    var disqus_shortname = 'butidigressca';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

</body>
</html>